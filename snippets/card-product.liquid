<div class="image-block">
  <img src="{{ product.featured_image | img_url: 'medium' }}" alt="{{ product.title }}">
</div>
<h3>
  <a href="{{ product.url }}">{{ product.title }}</a>
</h3>
<product-form data-section-id="{{ section.id }}">
  {%- form 'product',
    card_product,
    id: product_form_id,
    class: 'form',
    novalidate: 'novalidate',
    data-type: 'add-to-cart-form'
  -%}
    <input
      type="hidden"
      name="id"
      value="{{ card_product.selected_or_first_available_variant.id }}"
      class="product-variant-id"
      {% if card_product.selected_or_first_available_variant.available == false %}
        disabled
      {% endif %}
    >
    <button
      id="{{ product_form_id }}-submit"
      type="submit"
      name="add"
      class="quick-add__submit button button--full-width button--secondary{% if horizontal_quick_add %} card--horizontal__quick-add{% endif %}"
      aria-haspopup="dialog"
      aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ card_product.id }}"
      aria-live="polite"
      data-sold-out-message="true"
      {% if card_product.selected_or_first_available_variant.available == false %}
        disabled
      {% endif %}
    >
      <span>
        {%- if card_product.selected_or_first_available_variant.available -%}
          {{ 'products.product.add_to_cart' | t }}
        {%- else -%}
          {{ 'products.product.sold_out' | t }}
        {%- endif -%}
      </span>
      <span class="sold-out-message hidden">
        {{ 'products.product.sold_out' | t }}
      </span>
      {%- if horizontal_quick_add -%}
        <span class="icon-wrap">
          {{- 'icon-plus.svg' | inline_asset_content -}}
        </span>
      {%- endif -%}
      {%- render 'loading-spinner' -%}
    </button>
  {%- endform -%}
</product-form>
