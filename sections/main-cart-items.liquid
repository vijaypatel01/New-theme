<form action="{{ routes.cart_url }}" class="cart__contents critical-hidden" method="post" id="cart">
  {%- if cart != empty -%}
    <table class="cart-items">
      <thead>
        <tr>
          <th class="caption-with-letter-spacing" colspan="2" scope="col">
            {{ 'sections.cart.headings.product' | t }}
          </th>
          <th class="medium-hide large-up-hide right caption-with-letter-spacing" colspan="1" scope="col">
            {{ 'sections.cart.headings.total' | t }}
          </th>
          <th
            class="cart-items__heading--wide cart-items__heading--quantity small-hide caption-with-letter-spacing"
            colspan="1"
            scope="col"
          >
            {{ 'sections.cart.headings.quantity' | t }}
          </th>
          <th class="small-hide right caption-with-letter-spacing" colspan="1" scope="col">
            {{ 'sections.cart.headings.total' | t }}
          </th>
        </tr>
      </thead>
      <tbody>
        {%- for item in cart.items -%}
          <tr class="cart-item" id="CartItem-{{ item.index | plus: 1 }}">
            <td class="cart-item__media">
              {% if item.image %}
                <a href="{{ item.url }}" class="cart-item__link" aria-hidden="true" tabindex="-1"> </a>
                <div class="cart-item__image-container gradient global-media-settings">
                  <img
                    src="{{ item.image | image_url: width: 300 }}"
                    class="cart-item__image"
                    alt="{{ item.image.alt | escape }}"
                    loading="lazy"
                    width="150"
                    height="{{ 150 | divided_by: item.image.aspect_ratio | ceil }}"
                  >
                </div>
              {% endif %}
            </td>
  
            <td class="cart-item__details">
              {%- if item.original_price != item.final_price -%}
                <div class="cart-item__discounted-prices">
                  <span class="visually-hidden">
                    {{ 'products.product.price.regular_price' | t }}
                  </span>
                  <s class="cart-item__old-price product-option">
                    {{- item.original_price | money -}}
                  </s>
                  <span class="visually-hidden">
                    {{ 'products.product.price.sale_price' | t }}
                  </span>
                  <strong class="cart-item__final-price product-option">
                    {{ item.final_price | money }}
                  </strong>
                </div>
              {%- else -%}
                <div class="product-option">
                  {{ item.original_price | money }}
                </div>
              {%- endif -%}
            </td>
            {%- liquid
              assign has_qty_rules = false
              if item.variant.quantity_rule.increment > 1 or item.variant.quantity_rule.min > 1 or item.variant.quantity_rule.max != null
                assign has_qty_rules = true
              endif
  
              assign has_vol_pricing = false
              if item.variant.quantity_price_breaks.size > 0
                assign has_vol_pricing = true
              endif
            -%}
            <td class="cart-item__quantity{% if has_qty_rules or has_vol_pricing %} cart-item__quantity--info{% endif %}">
              <div class="quantity-popover-container{% if has_qty_rules or has_vol_pricing %} quantity-popover-container--hover{% endif %}">
                <quantity-input class="quantity cart-quantity">
                  <input
                    class="cart-item__quantity-input"
                    type="number"
                    size="2"
                    id="updates_{{ forloop.index }}"
                    name="updates[]"
                    value="{{ item.quantity }}"
                    data-initial-value="{{ item.quantity }}"
                    data-line="{{ forloop.index }}"
                    {% if item.variant.inventory_management != blank and item.variant.inventory_policy == 'deny' %}
                      data-max="{{ item.variant.inventory_quantity }}"
                    {% endif %}
                    aria-label="quantity"
                  >
                </quantity-input>
              </div>
              <cart-remove-button
                id="Remove-{{ item.index | plus: 1 }}"
                data-index="{{ item.index | plus: 1 }}"
              >
                <a
                  href="{{ item.url_to_remove }}"
                  class="button button--tertiary"
                  aria-label="{{ 'sections.cart.remove_title' | t: title: item.title | escape }}"
                >
                  <span class="svg-wrapper">
                    {{- 'icon-remove.svg' | inline_asset_content -}}
                  </span>
                </a>
              </cart-remove-button>
            </td>
            <td class="cart-item__totals">
              <div class="cart-item__price-wrapper">
                <span class="price-currency">
                  {{ cart.currency.iso_code }}
                </span>
                <span class="price price--end cart-total">
                  {{ cart.total_price | money_without_currency }}
                </span>
              </div>
            </td>
          </tr>
        {%- endfor -%}
      </tbody>
    </table>
  {% endif %}
</form>
{% schema %}
{
  "name": "t:sections.main-cart-items.name",
  "settings": [
  ]
}
{% endschema %}
